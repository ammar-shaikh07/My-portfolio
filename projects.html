<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Projects — Ammar Shaikh</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header class="nav">
    <div class="logo">Ammar</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="skills.html">Skills</a>
      <a href="projects.html" class="active">Projects</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main class="page">
    <h2>Projects</h2>

    <!-- Auto loaded GitHub Projects -->
    <div id="projects" class="projects"></div>
  </main>

  <footer class="footer">© 2025 Shaikh Mohammad Ammar</footer>

  <!-- Auto GitHub API Script -->
 <script>
  async function loadProjects() {
    const res = await fetch("https://api.github.com/users/ammar-shaikh07/repos");
    const repos = await res.json();
    const box = document.getElementById("projects");

    for (let repo of repos) {

      // --- Skip forks + skip portfolio repo ---
      if (repo.fork) continue;
      if (repo.name.toLowerCase().includes("portfolio")) continue;

      // --- Check for APK file in repo ---
      let apkLink = null;
      try {
        const files = await fetch(repo.contents_url.replace("{+path}", "")).then(r => r.json());
        const apkFile = files.find(f => f.name.endsWith(".apk"));
        if (apkFile) apkLink = apkFile.download_url;
      } catch (e) {}

      // --- Auto GitHub Pages Website Link ---
      let liveLink = null;
      if (repo.has_pages) {
        liveLink = `https://${repo.owner.login}.github.io/${repo.name}/`;
      }

      // --- Add HTML Card ---
      box.innerHTML += `
        <article class="card">
          <h3>${repo.name}</h3>
          <p>${repo.description || "No description available"}</p>
          <p class="meta">Updated: ${new Date(repo.updated_at).toDateString()}</p>

          <a href="${repo.html_url}" target="_blank" style="color:#FFD166;font-weight:600">
            View Code →
          </a>

          ${liveLink ? `
            <a href="${liveLink}" target="_blank" style="color:#4DA3FF;font-weight:600">
              Live Site →
            </a>` : ""}

          ${apkLink ? `
            <a href="${apkLink}" target="_blank" style="color:#4CAF50;font-weight:600">
              Download APK →
            </a>` : ""}
        </article>
      `;
    }
  }

  loadProjects();
</script>


</body>
</html>
